<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap4.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#locations').DataTable({
                "ajax": '/SynapseSql/Location',
                "columns": [
                    { "data": "name" },
                    { "data": "create_date" }
                ]
            });
        });
    </script>
</head>
<body class="container">

    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
        <ul class="navbar-nav">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                    Entities
                </a>
                <div class="dropdown-menu">
                    <a class="dropdown-item" href="entities.html">List</a>
                    <a class="dropdown-item" href="add-entity.html">Add new</a>
                    <a class="dropdown-item" href="/api/cdm/odata">OData (root)</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                    Locations
                </a>
                <div class="dropdown-menu">
                    <a class="dropdown-item disabled" href="#">List</a>
                    <a class="dropdown-item" href="#" data-toggle="modal" data-target="#myModal">Add new</a>
                </div>
            </li>
        </ul>
    </nav>
    <h1>ADLS locations</h1>
    <p>Here is a list of ADLS locations that can be used to add CDM model.json. <a href="#" data-toggle="modal" data-target="#myModal">Add new location to load model.json files.</a></p>
    <table id="locations" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <th>Location</th>
                <th>Create date</th>
            </tr>
        </thead>
        <tfoot>
            <tr>
                <th>Location</th>
                <th>Create date</th>
            </tr>
        </tfoot>
    </table>

    <div class="modal" id="myModal">
        <div class="modal-dialog modal-lg">            
                <form class="form modal-content" action="api/cdm/RegisterModel">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Add new location or update SAS key in the existing location</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <div class="modal-body">

                        <div class="form-group">
                            <label for="url">Azure Storage URL:</label>
                            <input type="text" class="form-control" name="url" id="url"
                                   value=""
                                   placeholder="https://<adls storage account>.blob.core.windows.net"
                                   required>
                        </div>
                        <div class="form-group">
                            <label for="sas">Shared Access Signature:</label>
                            <input type="text" class="form-control" name="sas" id="sas" value="" required>
                        </div>
                        
                
                    </div>

                <!-- Modal footer -->
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Add</button>
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                    </div>

            </form>
        </div>
    </div>

</body>
</html>